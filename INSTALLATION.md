# تثبيت لوحة تحكم متجرنا

هذا الدليل يشرح كيفية تثبيت وتكوين لوحة تحكم متجرنا المبنية على Appsmith ودمجها مع NocoDB و n8n.

## المتطلبات الأساسية

- خادم Appsmith يعمل (يمكن استخدام التثبيت الحالي بالدوكر)
- قاعدة بيانات PostgreSQL (محتوية على جداول المخزون والمستخدمين)
- خادم n8n للأتمتة (اختياري إذا كنت تريد استخدام ميزات الإشعارات والتنبيهات)

## خطوات التثبيت

### 1. تحضير بيئة التطوير

1. تأكد من أن خادم Appsmith يعمل بشكل صحيح ويمكن الوصول إليه.
2. تأكد من اتصال Appsmith بقاعدة البيانات PostgreSQL الخاصة بك.

### 2. استيراد مشروع Appsmith

1. قم بتسجيل الدخول إلى لوحة تحكم Appsmith الخاصة بك.
2. انقر على "جديد" ثم "استيراد" في الزاوية العلوية اليمنى.
3. حدد ملف JSON الذي يحتوي على تكوين المشروع من هذا المستودع (ستجده في مجلد التصدير).
4. انقر على "استيراد" واتبع التعليمات على الشاشة.

### 3. تكوين اتصالات قاعدة البيانات

1. بعد استيراد المشروع، انتقل إلى قسم "الإعدادات > مصادر البيانات".
2. قم بإنشاء مصدر بيانات PostgreSQL جديد وأدخل التفاصيل التالية:
   - **الاسم**: `matjarna_db`
   - **المضيف**: `postgres` (أو عنوان المضيف الخاص بك)
   - **البوابة**: `5432`
   - **اسم قاعدة البيانات**: `matjarna_db`
   - **اسم المستخدم**: `noor` (أو اسم المستخدم الخاص بك)
   - **كلمة المرور**: `MyDB123456` (أو كلمة المرور الخاصة بك)

3. كرر الخطوة السابقة لإنشاء اتصال لقاعدة بيانات `auth_db`:
   - **الاسم**: `auth_db`
   - **المضيف**: `postgres` (أو عنوان المضيف الخاص بك)
   - **البوابة**: `5432`
   - **اسم قاعدة البيانات**: `auth_db`
   - **اسم المستخدم**: `noor` (أو اسم المستخدم الخاص بك)
   - **كلمة المرور**: `MyDB123456` (أو كلمة المرور الخاصة بك)

### 4. تكوين دمج ChatGPT (اختياري)

1. انتقل إلى قسم "الإعدادات > مخزن التطبيق".
2. قم بإنشاء متغير جديد باسم `OPENAI_API_KEY` وأدخل مفتاح API الخاص بك من OpenAI.

### 5. تكوين دمج n8n (اختياري)

1. افتح ملف `N8nIntegration.js` في مجلد JS.
2. قم بتحديث عنوان URL الأساسي ومسارات webhook لتتوافق مع بيئتك.

### 6. تشغيل سير العمل (n8n)

إذا كنت تستخدم n8n للأتمتة، قم بتنفيذ الخطوات التالية:

1. قم بتسجيل الدخول إلى واجهة n8n (https://hq.elshin.cloud).
2. قم باستيراد سير العمل من مجلد `n8n-workflows` في هذا المستودع.
3. قم بتعديل أي متغيرات مطلوبة، مثل روابط webhook وإعدادات الاتصال.
4. قم بتنشيط سير العمل بالضغط على زر "تنشيط".

## اختبار التثبيت

1. انتقل إلى لوحة التحكم الرئيسية في تطبيق Appsmith.
2. تأكد من أن جميع الأرقام والمؤشرات تعرض البيانات الصحيحة.
3. تصفح شاشات إدارة المنتجات والطلبات للتأكد من أنها تعمل بشكل صحيح.

## تخصيص اللوحة

يمكنك تخصيص لوحة التحكم بالطرق التالية:

1. **تغيير السمة**: انتقل إلى "الإعدادات > السمة" وقم بتعديل الألوان والخطوط حسب احتياجاتك.
2. **إضافة صفحات جديدة**: أنشئ صفحات جديدة من خلال النقر على "+" في شريط التنقل.
3. **تعديل الاستعلامات**: قم بتعديل استعلامات قاعدة البيانات من خلال قسم "الاستعلامات" في كل صفحة.

## استكشاف الأخطاء وإصلاحها

### مشاكل الاتصال بقاعدة البيانات

- تأكد من أن خادم PostgreSQL يعمل ويمكن الوصول إليه من خادم Appsmith.
- تحقق من أن بيانات اعتماد قاعدة البيانات صحيحة.
- تأكد من أن جدران الحماية لا تمنع الاتصال.

### مشاكل عرض البيانات

- تحقق من صحة استعلامات SQL في Appsmith.
- تأكد من وجود البيانات في قاعدة البيانات باستخدام أداة مثل pgAdmin.

### مشاكل دمج n8n

- تأكد من أن خادم n8n يعمل وروابط webhook صحيحة.
- تحقق من سجلات n8n للحصول على أي أخطاء في سير العمل.

## الدعم

إذا واجهت أي مشكلة أثناء التثبيت أو الاستخدام، يمكنك:

1. فتح مشكلة في مستودع GitHub هذا.
2. التواصل مع فريق الدعم الفني على البريد الإلكتروني support@example.com.
